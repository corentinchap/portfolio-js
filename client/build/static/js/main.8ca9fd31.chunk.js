(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t,a){e.exports=a.p+"static/media/github.87e2efc0.svg"},188:function(e,t,a){e.exports=a.p+"static/media/linkedin.ac601e9e.svg"},193:function(e,t,a){e.exports=a(383)},223:function(e,t,a){},224:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);a(194);var n=a(0),r=a.n(n),c=a(181),s=a(41),i=a.n(s),o=a(35),l=a(42),u=a(184),d=a(185),m=a.n(d),p=a(7),h=a(8),j=a(11),b=a(9),f=a(10),v=a(385),g=a(386),E=(a(114),a(186),a(30)),O=a.n(E),y=function(){return function(e){e({type:"request_projects"}),O.a.get("/api/projects").then(function(t){return e({type:"receive_projects",payload:t.data})})}},k=(a(223),a(224),a(187)),N=a.n(k),C=a(188),P=a.n(C),I=function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"about-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row flex"},r.a.createElement("div",{className:"title valign-wrapper col s6"},r.a.createElement("div",{className:"profile-picture"},r.a.createElement("img",{src:"/images/avatar.png",alt:"avatar"}))),r.a.createElement("div",{className:"content valign-wrapper col s6"},r.a.createElement("div",{className:"summary"},r.a.createElement("div",{className:"summary-text"},"Corentin Chapatte"),r.a.createElement("div",{className:"social-contact"},r.a.createElement("div",{className:"social"},r.a.createElement("a",{target:"_blank",className:"cursor-active",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/corentin-chapatte-684234160/",alt:"linkedIn"},r.a.createElement("img",{alt:"LinkedIn",src:P.a})),r.a.createElement("a",{target:"_blank",className:"cursor-active",rel:"noopener noreferrer",href:"https://github.com/corentinchap"},r.a.createElement("img",{alt:"Github",src:N.a})))))))),r.a.createElement("div",{className:"white-ball"}))}}]),t}(n.Component),L=a(15),w=a(5),S=function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"removeProjectDOM",value:function(e){document.getElementById("delete-card-"+e).parentElement.remove()}},{key:"deleteProject",value:function(e,t,a){var n=this;e.preventDefault(),O.a.post("/api/projects/delete/"+t).then(function(e){n.removeProjectDOM(a)}).catch(function(e){alert("Error deleting project :"+e)})}},{key:"renderListWithEdit",value:function(){var e=this;if(!Object(w.isNullOrUndefined)(this.props.projects))return this.props.projects.map(function(t,a){var n="card cursor-active";return a===e.props.selectedProjectIndex&&(n+=" selected"),r.a.createElement("div",{className:n,key:t._id},r.a.createElement("span",{id:"delete-card-"+a,onClick:function(n){return e.deleteProject(n,t._id,a)},className:"project-delete-button z-depth-2"},"X"),r.a.createElement("div",{onClick:function(t){return e.props.onProjectClick(a)},className:"card-content"},t.name))})}},{key:"renderList",value:function(){var e=this;try{return this.props.projects.map(function(t,a){var n="card cursor-active";return a===e.props.selectedProjectIndex&&(n+=" selected"),r.a.createElement("div",{className:n,key:t._id},r.a.createElement("div",{onClick:function(t){return e.props.onProjectClick(a)},className:"card-content"},t.name))})}catch(t){console.log("Error while mappings projects")}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"projects-list",className:"row projects"},this.props.enableEdits?this.renderListWithEdit():this.renderList()))}}]),t}(n.Component),x=function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"renderTags",value:function(e){var t="";return Object(w.isNullOrUndefined)(e)||e.forEach(function(e){t+="<span>"+String(e)+"</span>"}),t}},{key:"render",value:function(){return r.a.createElement("div",{className:"project-details z-depth-1"},r.a.createElement("div",{className:"project-content"},r.a.createElement("div",{className:"project-title"},r.a.createElement("h5",null,this.props.selectedProject.name)),r.a.createElement("div",{className:"project-tags",dangerouslySetInnerHTML:{__html:this.renderTags(this.props.selectedProject.tags)}}),r.a.createElement("div",{className:"project-body",dangerouslySetInnerHTML:{__html:this.props.selectedProject.body}},this.__html)))}}]),t}(n.Component);x.defaultProps={selectedProject:{name:"",tags:"",body:""}};var _=x,T=function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"renderConditionnalLoader",value:function(){if(this.props.isLoading){for(var e=[],t=0;t<this.props.numberOfCards;t++)e.push(r.a.createElement("div",{key:t,className:"card-panel cursor-active"},r.a.createElement("div",{className:"animated-loader"},"\xa0")));return e}return this.props.children}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderConditionnalLoader())}}]),t}(n.Component),D=(a(227),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(j.a)(this,Object(b.a)(t).call(this,e))).state={selectedProject:void 0,selectedProjectIndex:0},a.onProjectClick=a.onProjectClick.bind(Object(L.a)(Object(L.a)(a))),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProjects()}},{key:"onProjectClick",value:function(e){this.setState({selectedProjectIndex:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"work-section"},r.a.createElement("div",{className:"container fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m4"},r.a.createElement("h2",null,"My Work"),r.a.createElement(T,{isLoading:this.props.areProjectsLoading,numberOfCards:3},r.a.createElement(S,{projects:this.props.projects,onProjectClick:this.onProjectClick,selectedProjectIndex:this.state.selectedProjectIndex,enableEdits:!1}))),r.a.createElement("div",{className:"title right-align col m7 offset-m1"},r.a.createElement(T,{isLoading:this.props.areProjectsLoading,numberOfCards:1},Object(w.isUndefined)(this.props.projects)?r.a.createElement(_,null):r.a.createElement(_,{selectedProject:this.props.projects[this.state.selectedProjectIndex]}))))))}}]),t}(n.Component));var U=Object(o.b)(function(e){return{projects:e.projects.list,areProjectsLoading:e.projects.isLoading}},{fetchProjects:y})(D),z=(a(228),a(229),function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.initCustomCursor()}},{key:"render",value:function(){return r.a.createElement("div",{id:"cursor"})}},{key:"initCustomCursor",value:function(){var e,t=document.getElementById("cursor"),a=!1;document.addEventListener("mousemove",function(n){setTimeout(function(){if("cursor"!==n.target.id)if(a=!1,n.target.className.includes("cursor-active"))a=!0,e=n.target;else if(!Object(w.isNullOrUndefined)(n.target.parentNode))try{n.target.parentNode.className.includes("cursor-active")&&(a=!0,e=n.target)}catch(n){console.log(n)}},300),t.setAttribute("style","top: "+(n.pageY-10)+"px; left:"+(n.pageX-10)+"px;"),a?t.setAttribute("class","cursor-enabled"):t.removeAttribute("class","cursor-enabled")}),document.addEventListener("click",function(a){"cursor-enabled"===a.target.className&&e.click(),t.classList.add("expend"),setTimeout(function(){t.classList.remove("expend")},500)})}}]),t}(n.Component)),M=function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement(I,null),r.a.createElement(U,null),r.a.createElement(z,null))}}]),t}(n.Component),A=a(192),F=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(j.a)(this,Object(b.a)(t).call(this,e))).state={multerImages:[]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"updateState",value:function(e){var t=new FormData;t.append("imageName","multer-image-"+Date.now()),t.append("imageData",e.target.files[0]),t.append("projectId",this.props.projectId),this.uploadImage(t)}},{key:"uploadImage",value:function(e){var t=this;O.a.post("http://localhost:5000/image/uploadmulter",e).then(function(e){e.data.success&&t.props.handleImageChange(e.data.imgPath)}).catch(function(e){alert("Error while uploading image using multer : WHY ? HERE IS : "+e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"image-container"},r.a.createElement("div",{className:"process"},r.a.createElement("p",{className:"process__details"},"Upload image"),r.a.createElement("input",{type:"file",name:"project-image",className:"process__upload-btn",onChange:function(t){return e.updateState(t)}})))}}]),t}(n.Component),W=a(110),B=a(189),H=(a(318),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(j.a)(this,Object(b.a)(t).call(this,e))).onEditorStateChange=function(e){a.setState({editorState:e})},a.state={editorState:W.EditorState.createEmpty()},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.editorState;return r.a.createElement("div",null,r.a.createElement(B.Editor,{editorState:e,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange}))}}]),t}(n.Component)),q=a(190),J=a.n(q),X=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(j.a)(this,Object(b.a)(t).call(this,e))).state={projectId:J.a.Types.ObjectId(),images:"",body:"",name:"",tags:"",date:Date.now()},a.handleNameChange=a.handleNameChange.bind(Object(L.a)(Object(L.a)(a))),a.handleTagsChange=a.handleTagsChange.bind(Object(L.a)(Object(L.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(L.a)(Object(L.a)(a))),a.handleImageChange=a.handleImageChange.bind(Object(L.a)(Object(L.a)(a))),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleTagsChange",value:function(e){this.setState({tags:e.target.value})}},{key:"handleSubmit",value:function(e){var t;e.preventDefault(),t=this.state.tags instanceof String?{projectId:this.state.projectId,name:this.state.name,date:this.state.date,body:this.state.body,tags:this.state.tags.split(",")}:{projectId:this.state.projectId,name:this.state.name,date:this.state.date,body:this.state.body,tags:this.state.tags},O.a.post("http://localhost:5000/api/projects",t).then(function(e){e.data.success&&console.log("success : "+e.data)}).catch(function(e){alert("Error while uploading image using multer :"+e)})}},{key:"handleImageChange",value:function(e){this.setState(function(t){return{images:[].concat(Object(A.a)(t.images),[e])}})}},{key:"renderUploadedImages",value:function(){if("undefined"!==typeof this.state.images&&this.state.images.length>0)return r.a.createElement("div",null,this.state.images.map(function(e,t){return r.a.createElement("img",{key:t,alt:"preview",width:"75px",src:e.replace("client\\public\\","")})}))}},{key:"render",value:function(){var e={};return e=void 0===this.props.selectedProject?this.state:this.props.selectedProject,r.a.createElement("form",{onSubmit:this.handleSubmit,method:"post",encType:"multipart/form-data"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"pjName"},"First Name"),r.a.createElement("input",{type:"text",name:"pjName",value:e.name,onChange:this.handleNameChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"pjTags"},"Tags [,]"),r.a.createElement("input",{type:"text",name:"pjTags",value:e.tags,onChange:this.handleTagsChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"pjImages"},"images"),r.a.createElement(F,{projectId:e.projectId,handleImageChange:this.handleImageChange}),this.renderUploadedImages()),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"pjBody"},"Body"),r.a.createElement(H,{selectedProject:e})),r.a.createElement("button",{type:"submit"},"Submit"))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(j.a)(this,Object(b.a)(t).call(this,e))).state={selectedProjectIndex:-1,selectedProject:void 0},a.onProjectClick=a.onProjectClick.bind(Object(L.a)(Object(L.a)(a))),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProjects()}},{key:"onProjectClick",value:function(e){this.setState({selectedProjectIndex:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"content",className:"admin row"},r.a.createElement("div",{className:"col s12"},"Ugly Admin Interface"),r.a.createElement("div",{className:"content col m2 s12"},r.a.createElement("h4",null,"Job Editor"),r.a.createElement(T,{isLoading:this.props.areProjectsLoading,numberOfCards:3},r.a.createElement(S,{projects:this.props.projects,onProjectClick:this.onProjectClick,selectedProjectIndex:this.state.selectedProjectIndex,enableEdits:!0}))),r.a.createElement("div",{className:"col s12 m3"},r.a.createElement(T,{isLoading:this.props.areProjectsLoading,numberOfCards:1},Object(w.isUndefined)(this.props.projects)?r.a.createElement(X,null):r.a.createElement(X,{selectedProject:this.props.projects[this.state.selectedProjectIndex]}))),r.a.createElement("div",{className:"col s12 m7"},r.a.createElement(T,{isLoading:this.props.areProjectsLoading,numberOfCards:1},Object(w.isUndefined)(this.props.projects)?r.a.createElement(_,null):r.a.createElement(_,{selectedProject:this.props.projects[this.state.selectedProjectIndex]})))))}}]),t}(n.Component);var G=Object(o.b)(function(e){return{projects:e.projects.list,areProjectsLoading:e.projects.isLoading}},{fetchProjects:y})(Y),R=function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Not authorized"),r.a.createElement("h1",null,"Not authorized"),r.a.createElement("h1",null,"Not authorized"),r.a.createElement("h1",null,"Not authorized"),r.a.createElement("h1",null,"Not authorized"),r.a.createElement("h1",null,"Not authorized"),r.a.createElement("h1",null,"Not authorized"))}}]),t}(n.Component),K=function(e){function t(){return Object(p.a)(this,t),Object(j.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.checkAuth()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(g.a,{exact:!0,path:"/",component:M}),r.a.createElement(g.a,{exact:!0,path:"/admin",component:this.props.auth?G:R}))))}}]),t}(n.Component);var Q=Object(o.b)(function(e){return{auth:e.auth}},{checkAuth:function(){return function(e){O.a.get("/api/check_auth").then(function(t){return e({type:"check_auth",payload:t.data})})}}})(K),V={list:void 0,isLoading:!0},Z=Object(l.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_user":case"check_auth":return t.payload||!1;default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"request_projects":return V;case"receive_projects":return{list:t.payload,isLoading:!1};default:return e}}}),$=Object(c.composeWithDevTools)({trace:!0,traceLimit:25}),ee=Object(l.d)(Z,$(Object(l.a)(u.a,m.a)));i.a.render(r.a.createElement(o.a,{store:ee}," ",r.a.createElement(Q,null)," "),document.querySelector("#root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.8ca9fd31.chunk.js.map